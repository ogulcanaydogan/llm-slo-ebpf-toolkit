# v0.3.0 Release Notes

Release date: 2026-02-20

## Overview

v0.3.0 extends the eBPF + LLM Inference SLO Toolkit from 6 to 9 kernel signals, introduces Bayesian multi-fault attribution, and adds production-grade deployment and alerting infrastructure via a Helm chart, webhook exporter, and CD gate.

## Highlights

### New eBPF Probes (9 total)

- Added **memory reclaim latency** probe (`mem_reclaim_latency_ms`) via `vmscan/mm_vmscan_direct_reclaim_begin` + `end` tracepoints.
- Added **disk I/O latency** probe (`disk_io_latency_ms`) via `block/block_rq_issue` + `block_rq_complete` tracepoints.
- Added **syscall latency** probe (`syscall_latency_ms`) via `kprobe/kretprobe` on `ksys_read` + `ksys_write`.
- Extended signal set from 6 to 9 probes with full signal generator profiles, thresholds, and semantic conventions.

### Bayesian Multi-Fault Attribution

- Added `BayesianAttributor` with naive Bayes posterior computation across 8 fault domains.
- Added `FaultHypothesis` schema extension (domain, posterior, evidence) to `IncidentAttribution`.
- Added multi-fault evaluation metrics: `PartialAccuracy` (top-1 in expected set) and `CoverageAccuracy` (hypothesis coverage above threshold).
- Added multi-fault labeled dataset (`multi_fault_samples.jsonl`) with 55 samples covering single, dual, and triple fault combinations.
- Added `mixed_multi` incident scenario for compound fault injection.

### Helm Chart

- Added Helm chart under `charts/llm-slo-agent/` producing identical resources to existing kustomize manifests.
- Chart supports all agent configuration via `values.yaml` including OTLP, webhook, CD gate, signal set, and security context.
- Helm chart published to GHCR OCI registry on release.
- Linted and template-validated in CI.

### Webhook Exporter

- Added webhook exporter (`pkg/webhook/`) with HMAC-SHA256 signing and exponential backoff retry.
- Added PagerDuty Events API v2 payload builder with severity mapping from burn rate.
- Added Opsgenie Alert API payload builder with priority mapping from burn rate.
- Added webhook configuration section to `toolkit.yaml` (disabled by default).

### CD Gate

- Added SLO CD gate (`pkg/cdgate/`) querying Prometheus for TTFT p95, error rate, and burn rate.
- Added `sloctl cdgate check` subcommand with `--fail-open`, JSON/text output, and configurable thresholds.
- Added CD gate configuration section to `toolkit.yaml` (disabled by default).
- Fail-open semantics: Prometheus unavailability passes the gate with a warning rather than blocking deployment.

### CI/CD

- Added `helm-lint`, `helm-template`, `bench-multi`, `cdgate-smoke` Makefile targets.
- Added CI steps for Helm lint, webhook smoke, CD gate smoke, and multi-fault attribution tests.
- Added `mixed_multi` to weekly benchmark scenario matrix.
- Added Helm chart OCI push to release workflow.
- Added `schemavalidate` binary to release workflow build matrix.

## Binaries

| Binary | Description |
|--------|-------------|
| `agent` | eBPF agent DaemonSet |
| `collector` | SLO event collector |
| `attributor` | Incident attribution engine |
| `benchgen` | Benchmark artifact generator |
| `faultreplay` | Multi-domain fault replay |
| `faultinject` | Synthetic fault injection |
| `correlationeval` | Correlation quality evaluator |
| `m5gate` | M5 GA gate enforcement |
| `sloctl` | CLI toolkit (prereq check, CD gate) |
| `loadgen` | Load generator |
| `schemavalidate` | JSON schema contract validator |

All binaries support `--version` flag (injected via `-ldflags` at release time).

## Upgrade Notes

- **Signal set**: New signals are enabled by default when running in `core_full` capability mode. Use `--disable-signals mem_reclaim_latency_ms,disk_io_latency_ms,syscall_latency_ms` to opt out.
- **Attribution mode**: Default attribution mode changed from `rule` to `bayes`. Use `--attribution-mode rule` to restore previous behavior.
- **Webhook**: Disabled by default. Enable via `toolkit.yaml` or `--webhook-url` flag.
- **CD gate**: Disabled by default. Enable via `sloctl cdgate check` subcommand.
- **Helm chart**: Available as an alternative to kustomize deployment. Both produce identical resources.

## Known Limitations

- eBPF probe integration tests require a Linux host with BTF; macOS/Windows CI runs use synthetic fallback.
- Webhook exporter retries are bounded to 3 attempts with exponential backoff; persistent endpoint failures are logged but not queued.
- CD gate requires a reachable Prometheus endpoint; `--fail-open` is recommended for initial rollout.
- Min-capability mode remains limited to DNS + TCP retransmit signals only.

## Artifact Links

- Architecture documentation: `docs/ARCHITECTURE.md`
- Helm chart: `charts/llm-slo-agent/`
- Webhook configuration: `config/toolkit.yaml` (webhook section)
- CD gate usage: `sloctl cdgate check --help`
- Changelog: `CHANGELOG.md`
